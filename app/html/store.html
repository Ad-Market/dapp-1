<div class="container">
	<div ng-cloak ng-show="!store" class="alert alert-danger">
		Could not find store at {{addr}}
	</div>
	<div ng-cloak ng-show="store">
		<h1><span ng-show="market"><a ng-href="#/markets/{{market.addr}}">{{market.meta.name}}</a> Â» </span>{{store.meta.name}}</h1>
		Address: <a ng-href="http://etherchain.org/account/{{store.merchant}}">{{store.addr}}</a>
		<br>Merchant: <a ng-href="http://etherchain.org/account/{{store.merchant}}">{{store.merchant}}</a>
		<br>Dispute Time: {{store.meta.disputeSeconds | disputeSeconds}}
		<br>
			<button
				ng-show="user.data.account === store.merchant"
				class="btn btn-default"
				ng-click="openStoreModal(store)"
			>Edit</button>
		<h3>Products</h3>
		<table class="table">
			<tr ng-repeat="product in store.products">
				<td>
					{{product.name}}
				</td>
				<td>
					{{product.info}}
				</td>
				<td>
					<amounts
						value="product.price"
						from="store.meta.currency"
						to="displayCurrencies">
					</amounts>
				</td>
				<td>
					<input class="form-control" type="number" ng-model="product.quantity" min="0">
				</td>
			</tr>
			<tr>
				<td></td>
				<td></td>
				<td></td>
				<td>
					<amounts
						value="totalInStoreCurrency"
						from="store.meta.currency"
						to="displayCurrencies">
					</amounts>
				</td>
			</tr>
			<tr ng-show="totalInStoreCurrency.greaterThan(0)">
				<td style="text-align:right" colspan="4">
					<button ng-click="createOrder(store,market)" class="btn btn-primary">Create Order</button>
				</td>
			</tr>
		</table>
	</div>
</div>
